getwd()
setwd("..")
load("working.RData")
library(skitools)
load_all()
load_all()
load_all()
ls()
g1 = gGraph$new(jabba=jab)
ed
node.dt
seq_along(ed)
1:nrow(ed)
ed[, node.dt[oid %in% from], by=1:nrow(ed)]
ed[, node.dt[oid %in% from]]
ed[, from]
head(loose.id)
ed[, ifelse(from %in% loose.id, "", ", source: ")]
rbind(NULL, ed)
edByType
edByType = by(ed, ed$type, function(x) x)
edByType
edByType$something
ed[1:5, node.dt[from %in% oid, iid])]
ed[1:5, node.dt[from %in% oid, iid]]
ed[1:5, node.dt[oid %in% from, iid]]
ed[1:5, node.dt[which(oid %in% from), iid], by=1:5]
ed[1:5]
ed[1:5, ifelse(soStr=="+", node.dt[which(oid %in% from), node.dt[which(rid %in% from)), iid], by=1:5]
ed[1:5, ifelse(soStr=="+", node.dt[which(oid %in% from), node.dt[which(rid %in% from), iid], by=1:5]
ed[1:5, ifelse(soStr=="+", node.dt[which(oid %in% from),iid], node.dt[which(rid %in% from), iid]), by=1:5]
node.dt
oid = gr2dt(seg)[, which(strand == "+" & loose==F)]
oid
rid = gr2dt(seg)[, which(strand == "-" & loose==F)]
length(oid)
length(rid)
node.dt
ed
ed[1:5, so := ifelse(soStr=="+", node.dt[oid %in% from, iid], node.dt[rid %in% from, iid])]
ed
node.dt[c(937,1962)]
 seg[c(937,1962)]
ed[, so := ifelse(soStr=="+", node.dt[oid %in% from, iid], node.dt[rid %in% from, iid])]
ed
ed[is.na(so)]
node.dt
seg[c(2045, 2670)]
node.dt[rid==2670]
node.dt[oid==2670]
node.dt[ oid == 0]
ed[type=="loose"]
seg[2208]
ed = g1$edges
ed
                         ed[,":="(soStr = as.character(strand(seg[from])), siStr = as.character(strand(seg[to])))]
ed
abe
abe$key
dim(abe)
posAbEd = as.data.table(ab.edges[,1:2,"+"])
posAbEd = as.data.table(g1$ab.edges[,1:2,"+"])
posAbEd
posAbEd[, from+to]
posAbEd[is.na(from+to)]
posAbEd[!is.na(from+to)]
posAbEd[!is.na(from+to)][, any(is.na(from))]
posAbEd[!is.na(from+to)][, any(is.na(to))]
posAbEd = posAbEd[!is.na(from+to)]
key(abe)
abe
abe
edByType$reference
edByType$loose
ifelse(is.null(edByType$reference), NULL, edByType$reference[soStr=="+"])
edByType$reference[soStr=="+"]
ed
table(ed$type)
                         eType = setNames(c("REF", "ALT", "LOOSE"), unique(ed$type))
eType
ed.dt
ed.dt[is.na(so)]
ed.dt[is.na(si)]
ed.dt
ed.dt[duplicated(from, to)]
ed.dt[from==70 & to==2056]
ed.dt[duplicated(paste(from, to, sep="_"))]
head(ed[so.str==-1])
head(ed.dt[so.str==-1])
ed.et
ed.dt
ed.dt
ed.dt
seg[c(1001,20227)]
seg[c(1001,2027)]
g1$edges[from==1001]
eType
ed.dt
ed.dt[type=="LOOSE"]
NA*1
ed.dt
connections.json
cccccccccccccc
class(connections.json)
nchar(connections.json)
ed.dt
g1$seqInfo
g1$seqInfo[seqnames %in% seqnames(seg)]
class(g1$seqInfo)
seqnames(seg)
as.character(seqnames(seg))
as.character(runValues(seqnames(seg)))
as.character(runValue(seqnames(seg)))
as.character(levels(seqnames(seg)))
g1$seqInfo[seqnames %in%  as.character(levels(seqnames(seg)))]
chrs = g1$seqInfo[seqnames %in%  as.character(levels(seqnames(seg)))]
chrs
chrs[, paste("{ chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw("red"), " }", collapse=",\n\t", se[="")]
chrs[, paste("{ chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw("red"), " }", collapse=",\n\t", sep="")]
print(chrs[, paste("{ chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw("red"), " }", collapse=",\n\t", sep="")])
cat(chrs[, paste("{ chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw("red"), " }", collapse=",\n\t", sep="")])
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw("red"), " }", collapse=",\n\t", sep="")])
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw("red"), " }", collapse=",\n", sep="")])
library(RColorBrewer)
rainbow
rainbow()
rainbow(25)
qw(rainbow(25))
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw(rainbow(.I)), " }", collapse=",\n", sep="")])
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw(rainbow(.I())), " }", collapse=",\n", sep="")])
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw(rainbow(.I[.])), " }", collapse=",\n", sep="")])
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw(rainbow(.I[])), " }", collapse=",\n", sep="")])
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw(rainbow(.I[seqnames])), " }", collapse=",\n", sep="")])
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw(rainbow(.I[seqnames!=""])), " }", collapse=",\n", sep="")])
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw(rainbow(.I)), " }", collapse=",\n", sep="")])
chr[,.I]
chrs[,.I]
cat(chrs[, paste("\t{", " chromosome: ", qw(seqnames), " startPoint: ", 1, " endPoint: ", seqlengths, " color: ", qw(rainbow(max(.I))), " }", collapse=",\n", sep="")])
getwd()
load_all()
g1 = gGraph$new(jabba=jab)
js1 = g1$json <- "HCC1143.js"
g1$edges
g1$edges[, as.character(strand(g1$segstats[from]))]
g1$edges[, ":="(soStr = as.character(strand(g1$segstats[from]), siStr = as.character(strand(g1$segstats[to]))]
g1$edges[, ":="(soStr = as.character(strand(g1$segstats[from])), siStr = as.character(strand(g1$segstats[to])))]
g1$edges
load_all()
g1 = gGraph$new(jabba=jab)
js1 = g1$json <- "HCC1143.js"
as.character(NA)
fuckr()
as.character(NA)
js1 = g1$json <- "HCC1143.js"
ls()
node.dt
node.dt[,paste0(iid,chromosome, startPoint)]
node.dt[,paste0(iid,chromosome, startPoint, endPoint)]
node.dt[,paste0(iid,chromosome, startPoint, endPoint, y, qw(title))]
node.dt[,paste0(iid,chromosome, startPoint, endPoint, y, qw(title),qw(strand))]
intervals.json = node.dt[, paste0(
                             c("intervals: [", paste(
                                                   "\t{",
                                                   "iid: ", iid,
                                                   ", chromosome: ", chromosome,
                                                   ", startPoint: ", startPoint,
                                                   ", endPoint: ", endPoint,
                                                   ", y: ", y,
                                                   ", title: ", qw(title),
                                                   ", type: ", qw(type),
                                                   ", strand: ", qw(strand),
                                                   "}",
                                                   sep = "",
                                                   collapse = ',\n'),
                               "]"),
                             collapse = '\n')
                             ]
c
load_all()
g1 = gGraph$new(jabba=jab)
js1 = g1$json <- "HCC1143.js"
node.dt
node.dt[, qw(type)]
Q
getwd()
ls()
rm("gGraph")
load_all()
g1 = gGraph$new(jabba=jab)
js1 = g1$json <- "HCC1143.js"
0
0
load_all()
devools::load_all()
detools::load_all()
devtools::load_all()
devtools::load_all()
devtools::load_all()
options(error = recover)
options(warn = 3)
tile = gr.tile(hg_seqlengths(), 1e6)
devtools::load_all()
4
i
i
pkg
c
process_imports(pkg)
load_imports(pkg)
Q
options(warn = 1)
devtools::load_all()
devtools::load_all()
options(warn = 3)
devtools::load_all()
names
handler
handlers
c
c
ls()
ls()
package
i
5
cond
2
process_imports
process_imports
package
pkg$ame
pkg$name
y
    vI <- ("tools" %:::% ".split_description")(("tools" %:::% 
        ".read_description")(file.path(pkg$path, "DESCRIPTION")))$Imports
    nsInfo <- parse_ns_file(pkg)
    ns <- ns_env(pkg)
    lib.loc <- NULL
nsInfo$importss
nsInfo$imports
i = nsInfo$imports[1]
process_imports
is.character(i)
 (!is.null(i$except)) 
namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], 
 namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], 
            c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
            i[[2L]], from = package)
namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], 
            c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
            i[[2L]], from = package)
j
Q
0
dir()
setwd('..')
devtools::load_all()
process_imports
    for (i in nsInfo$imports) tryCatch(error = warning, {
        if (is.character(i)) 
            namespaceImport(ns, loadNamespace(i, c(lib.loc, .libPaths()), 
                versionCheck = vI[[i]]), from = package)
        else if (!is.null(i$except)) 
            namespaceImport(ns, loadNamespace(j <- i[[1L]], c(lib.loc, 
                .libPaths()), versionCheck = vI[[j]]), from = package, 
                except = i$except)
        else namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], 
            c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
            i[[2L]], from = package)
    })
i
    for (imp in nsInfo$importClasses) tryCatch(error = warning, 
        namespaceImportClasses(ns, loadNamespace(j <- imp[[1L]], 
            c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
            imp[[2L]], from = package))
    for (imp in nsInfo$importMethods) tryCatch(error = warning, 
        namespaceImportMethods(ns, loadNamespace(j <- imp[[1L]], 
            c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
            imp[[2L]], from = package))
imp
    package <- pkg$name
    vI <- ("tools" %:::% ".split_description")(("tools" %:::% 
        ".read_description")(file.path(pkg$path, "DESCRIPTION")))$Imports
    nsInfo <- parse_ns_file(pkg)
    ns <- ns_env(pkg)
    lib.loc <- NULL
    for (i in nsInfo$imports) tryCatch(error = warning, {
        if (is.character(i)) 
            namespaceImport(ns, loadNamespace(i, c(lib.loc, .libPaths()), 
                versionCheck = vI[[i]]), from = package)
        else if (!is.null(i$except)) 
            namespaceImport(ns, loadNamespace(j <- i[[1L]], c(lib.loc, 
                .libPaths()), versionCheck = vI[[j]]), from = package, 
                except = i$except)
        else namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], 
            c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
            i[[2L]], from = package)
    })
    for (imp in nsInfo$importClasses) tryCatch(error = warning, 
        namespaceImportClasses(ns, loadNamespace(j <- imp[[1L]], 
            c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
            imp[[2L]], from = package))
    for (imp in nsInfo$importMethods) tryCatch(error = warning, 
        namespaceImportMethods(ns, loadNamespace(j <- imp[[1L]], 
            c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
            imp[[2L]], from = package))
c
process_imports(pkg)
Q
document()
devtools::document()
0
options(Warn = 1)
0
fuckr()
library(skitools)
fuckr()
options(warn = 1)
fuckr()
library(skitools)
0
0
0
devtools::load_all()
0
fuckr()
cds
cds
Q
ddj = c(ggj, gg.cds)$disjoin()
c
ddjs = ddj$clone()$simplify(by = 'cn')
finaledges
final.edges
unique(final.edges, by = .(n1, n2, n1.side, n2.side))
unique(final.edges, by = c("n1", "n2", "n1.side", "n2.side"))
c
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
w2$disjoin(gr)
c
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
c
setkeyv(sedgesdt, c('from', 'to'))
sedgesdt[.(pedge$from, pedge$to), sedge.id]
sedgesdt
pedge
dim(pedge)
sedgesdt[.(pedge$from, pedge$to), sedge.id]
sedgesdt[.(pedge$from, pedge$to), ]
dim(sedgesdt[.(pedge$from, pedge$to), ])
dim(pedge)
dim(sedgesdt[.(pedge$from, pedge$to), sedge.id])
length(sedgesdt[.(pedge$from, pedge$to), sedge.id])
length(sedgesdt[.(pedge$from, pedge$to), sedge.id])
c
w2$disjoin(gr)
c
w2$disjoin(gr)
sedgesdt[.(pedge$from, pedge$to), sedge.id]
dim(pedges)
dim(pedge)
dim9sedgesdt[.(pedge$from, pedge$to), ])
dim(sedgesdt[.(pedge$from, pedge$to), ])
length(sedgesdt[.(pedge$from, pedge$to), sedge.id])
Q
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
c
sedgesdt[.(pedge$from, pedge$to), sedge.id]
c
w2$disjoin(gr)
w2$disjoin(gr)
Q
w2$disjoin(gr)
Q
w2 = gWalk$new(grl = grl, disjoin = TRUE)
c
Q
Q
c
pedge
c
length(pedge$sedge.id )
length(sedgesdt[.(pedge$from, pedge$to), sedge.id])
dim(sedgesdt[.(pedge$from, pedge$to), sedge.id)
dim(sedgesdt[.(pedge$from, pedge$to), sedge.id])
di(sedgesdt[.(pedge$from, pedge$to), sedge.id])
dim(sedgesdt[.(pedge$from, pedge$to), sedge.id])
dim(sedgesdt[.(pedge$from, pedge$to), ])
fuck = sedgesdt[.(pedge$from, pedge$to), ]
ix = duplicated(fuck, by = c("from", "to"))
fuck[ix, ][1,]
setkeyv(fuck, c('from', 'to'))
shite = fuck[ix, ][1,]
fuck[shite[, .(from, to)], ]
W
Q
c
dim(tmp)
length(pedge$sedge.id )
length(tmp$sedge.id)
tmp
sedgesdt
dim(sedgesdt)
sedgesdt
Q
w2$disjoin(gr)
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
final.edges
dim(final.edges)
dim(final.edges)
final.edges[n1>n2, ]
final.edges[n1>=n2, ]
final.edges[n1!=n2, ]
Q
dim(final.edges)
dim(final.edges)
dim(final.edges)
final.edges
dim(final.edges)
dim(final.edges)
Q
dim(final.edges)
dim(final.edges)
dim(final.edges)
Q
Q
w2[1]
fuckr()
w2[1]
private$pmeta
>private$pmeta[.(abs(i)), ]
private$pmeta[.(abs(i)), ]
key(private$pmeta)
Q
w2 = gWalk$new(grl = grl, disjoin = TRUE)
c
w2$dt
w[1]
w2[1]
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
w2[1]
0
w2$graph
w2$graph$gt
stack.gap
private$pmeta
private$pmeta$y.field
ss$cn
Q
ppdf(plot(c(w2$graph$gt, w2[1]$gt), w2[1]$footprint+1e6))
w2 = gWalk$new(grl = grl, disjoin = TRUE)
source('R/utils.R');
w2 = gWalk$new(grl = grl, disjoin = TRUE)
w2$simplify()
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
0
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
0
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
w2 = gWalk$new(grl = grl, disjoin = TRUE)
w2$simplify()
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
ggj = gGraph$new(jab = jab)
ggj$walks
ggj$walks()
Q
ggj$edges[type == 'ALT', ]
ggj$edges[type == 'ALT']
ggj$edges[type == 'ALT'][1]$nodes
fuckr()
ggj$edges[type == 'ALT'][1]
ggj$edges[type == 'ALT'][1]$nodes
ggj$edges[type == 'ALT'][1]$left
ggj$edges[type == 'ALT'][1]$right
ggj$edges[type == 'ALT'][1]$nodes
fuckr()
ggj$edges[type == 'ALT'][1]$nodes
union(ggj$edges[type == 'ALT'][1], ggj$edges[type == 'ALT'][1])
union.gEdge(ggj$edges[type == 'ALT'][1], ggj$edges[type == 'ALT'][1])
unionggj$edges[type == 'ALT'][1], ggj$edges[type == 'ALT'][1])
union(ggj$edges[type == 'ALT'][1], ggj$edges[type == 'ALT'][1])
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
union(ggj$edges[type == 'ALT'][1], ggj$edges[type == 'ALT'][1])
load_all()
source('R/converters.R'); source('R/eventCallers.R'); source('R/gGnome.R');
ggj$edges[type == 'ALT'][1]$nodes
load_all()
ggj$edges[type == 'ALT'][1]$nodes
ggj$nodes$edges
q()
n
